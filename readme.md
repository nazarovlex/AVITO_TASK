# Тестовое задание 
# Сервис динамического сегментирования пользователей


### Общее описание:
Реализован сервис, запускающийся в **Docker**. Умеющий создавать и удалять пользователей, создавать и удалять сегменты,
добавлять пользователей в сегменты на указанный период времени и удалять сегменты у пользователя.

`Дополнительно` сделаны методы позволяющие создавать
и отдавать CSV файл с историей добавления/удаления пользователей в сегмент/из сегмента,
а также время удаления пользователя из сегмента.



### Что было использовано:
1. Язык разработки: Golang.
2. Реляционная СУБД: PostgreSQL.

### Методы:
1. `POST /users` Метод создания пользователя. Принимает имя пользователя в теле запроса в формате json.
2. `DELETE /users/:id` Метод удаления пользователя. Принимает id пользователя в query params.
3. `POST /segments` Метод создания сегмента. Принимает название(slug) сегмента в теле запроса в формате json.
4. `DELETE /segments/:slug`Метод удаления сегмента. Принимает название(slug) сегмента в теле запроса в формате json.
5. `GET /users`Метод получения всех пользователей с принадлежащими сегментами. 
6. `GET /user/:id`Метод получения всех сегментов пользователя.  Принимает id пользователя в query params.
7. `POST /user_segments` Метод добавления пользователей в сегмент. Принимает id пользователя, 
   список сегментов для добавления, время действия каждого сегмента в часах и список сегментов для удаления в формате json.
8. `GET /get_report` Метод создания CSV файла с историей добавлений/удалений пользователей в сегмент/из сегмента за указанный месяц. 
   Принимает год и месяц в формате json. Генерирует и возвращает ссылку на скачивание созданного файла.
9. `GET /download_report/:filename` Метод позволяет скачать CSV файл из предедущего метода. 
   Принимает год и месяц в формате json.
   